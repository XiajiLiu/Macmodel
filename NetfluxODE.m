function NetfluxODE() 
% Generated by Netflux 0.08a on 11-Oct-2016
 
% species parameters 
speciesNames = {'TNFa','IL1','IL6','LPS','TNFR','TRAF2','TAK1','NIK','IKK','IKB','NFKB','TNFa_mrna','IL15_mrna','GMCSF_mrna','Mcpt1_mrna','IL8_mrna','IL18_mrna','MKK36','p38','SP1','ATF2','ELK1','IL10_mrna','MMP3_mrna','MMP7_mrna','MMP9_mrna','MMP12_mrna','IL1R','TRAF6','cRaf','Ras','MEK12','CEBPbeta','MKK47','JNK','cJun','IL1_mrna','IL6_mrna','ERK12','TSG6','CYP19','ETS1','MMP3','MMP7','MMP9','GP130','IL6R','SHC','JAK2','GRB2','SOS','PI3K','AKT','MCL1','STAT3','A2M_mrna','CRP_mrna','VEGF_mrna','SOCS3_mrna','SOCS3','TAB1','cFos','SHP2','CD14','TLR4','MyD88','IRAK4','IRAK1','IKBa_mrna','TRIF','IRF3','IFNb_mrna','CCL5_mrna','IFNg','IFNgR','JAK12_IFNg','STAT1','IRF1','IRF1_mrna','SOCS1','SOCS1_mrna','Myc_mrna','SMAD7_mrna','ICAM1_mrna','IL4','IL4R','JAK13_IL4','SHP1','STAT6','CCL17_mrna','CCL17','PPARg_mrna','PPARg','IL4Ra_mrna','Arg1_mrna','Arg1','CD23_mrna','CD23','AMAC1_mrna','AMAC1','iNOS_mrna','iNOS','COX2_mrna','COX2','CXCL10_mrna','CXCL10','KLF4_mrna','KLF4','CD36_mrna','CD36','Fizz1_mrna','Fizz1','Ym1_mrna','Ym1','AP1',}; 
tau = [1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, ]; 
ymax = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ];
 
% reaction parameters 
w = [5.000000e-02, 5.000000e-02, 5.000000e-02, 5.000000e-02, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 5.000000e-01, 1, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 1, 5.000000e-01, 1, 1, 1, 1, 1, 5.000000e-02, 1, 1, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 1, 5.000000e-02, 1, 1, 1, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, ]; 
n = [1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, ]; 
EC50 = [5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, ]; 
rpar = [w;n;EC50];
 
params = {rpar,tau,ymax,speciesNames};
 
% Run single simulation 
y0 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ]; 
tspan = [0 300]; 
options = []; 
[t,y] = ode23(@ODEfun,tspan,y0,options,params);
dlmwrite('y0',y(end,:));
figure; 
plot(t,y); 
xlabel('Time (sec)'); ylabel('Fractional Species Activation'); legend(speciesNames);
 ka
function dydt=ODEfun(t,y,params) 
% Assign names for parameters 
[rpar,tau,ymax,speciesNames]=params{:}; 
TNFa = 1; 
IL1 = 2; 
IL6 = 3; 
LPS = 4; 
TNFR = 5; 
TRAF2 = 6; 
TAK1 = 7; 
NIK = 8; 
IKK = 9; 
IKB = 10; 
NFKB = 11; 
TNFa_mrna = 12; 
IL15_mrna = 13; 
GMCSF_mrna = 14; 
Mcpt1_mrna = 15; 
IL8_mrna = 16; 
IL18_mrna = 17; 
MKK36 = 18; 
p38 = 19; 
SP1 = 20; 
ATF2 = 21; 
ELK1 = 22; 
IL10_mrna = 23; 
MMP3_mrna = 24; 
MMP7_mrna = 25; 
MMP9_mrna = 26; 
MMP12_mrna = 27; 
IL1R = 28; 
TRAF6 = 29; 
cRaf = 30; 
Ras = 31; 
MEK12 = 32; 
CEBPbeta = 33; 
MKK47 = 34; 
JNK = 35; 
cJun = 36; 
IL1_mrna = 37; 
IL6_mrna = 38; 
ERK12 = 39; 
TSG6 = 40; 
CYP19 = 41; 
ETS1 = 42; 
MMP3 = 43; 
MMP7 = 44; 
MMP9 = 45; 
GP130 = 46; 
IL6R = 47; 
SHC = 48; 
JAK2 = 49; 
GRB2 = 50; 
SOS = 51; 
PI3K = 52; 
AKT = 53; 
MCL1 = 54; 
STAT3 = 55; 
A2M_mrna = 56; 
CRP_mrna = 57; 
VEGF_mrna = 58; 
SOCS3_mrna = 59; 
SOCS3 = 60; 
TAB1 = 61; 
cFos = 62; 
SHP2 = 63; 
CD14 = 64; 
TLR4 = 65; 
MyD88 = 66; 
IRAK4 = 67; 
IRAK1 = 68; 
IKBa_mrna = 69; 
TRIF = 70; 
IRF3 = 71; 
IFNb_mrna = 72; 
CCL5_mrna = 73; 
IFNg = 74; 
IFNgR = 75; 
JAK12_IFNg = 76; 
STAT1 = 77; 
IRF1 = 78; 
IRF1_mrna = 79; 
SOCS1 = 80; 
SOCS1_mrna = 81; 
Myc_mrna = 82; 
SMAD7_mrna = 83; 
ICAM1_mrna = 84; 
IL4 = 85; 
IL4R = 86; 
JAK13_IL4 = 87; 
SHP1 = 88; 
STAT6 = 89; 
CCL17_mrna = 90; 
CCL17 = 91; 
PPARg_mrna = 92; 
PPARg = 93; 
IL4Ra_mrna = 94; 
Arg1_mrna = 95; 
Arg1 = 96; 
CD23_mrna = 97; 
CD23 = 98; 
AMAC1_mrna = 99; 
AMAC1 = 100; 
iNOS_mrna = 101; 
iNOS = 102; 
COX2_mrna = 103; 
COX2 = 104; 
CXCL10_mrna = 105; 
CXCL10 = 106; 
KLF4_mrna = 107; 
KLF4 = 108; 
CD36_mrna = 109; 
CD36 = 110; 
Fizz1_mrna = 111; 
Fizz1 = 112; 
Ym1_mrna = 113; 
Ym1 = 114; 
AP1 = 115; 
dydt = zeros(115,1); 
dydt(TNFa) = (OR(rpar(1,1),act(y(TNFa_mrna),rpar(:,74)))*ymax(TNFa) - y(TNFa))/tau(TNFa); 
dydt(IL1) = (OR(rpar(1,2),act(y(IL1_mrna),rpar(:,76)))*ymax(IL1) - y(IL1))/tau(IL1); 
dydt(IL6) = (OR(rpar(1,3),act(y(IL6_mrna),rpar(:,77)))*ymax(IL6) - y(IL6))/tau(IL6); 
dydt(LPS) = (rpar(1,4)*ymax(LPS) - y(LPS))/tau(LPS); 
dydt(TNFR) = (act(y(TNFa),rpar(:,22))*ymax(TNFR) - y(TNFR))/tau(TNFR); 
dydt(TRAF2) = (act(y(TNFR),rpar(:,23))*ymax(TRAF2) - y(TRAF2))/tau(TRAF2); 
dydt(TAK1) = (OR(act(y(TRAF6),rpar(:,13)),OR(act(y(TAB1),rpar(:,14)),act(y(TRAF2),rpar(:,24))))*ymax(TAK1) - y(TAK1))/tau(TAK1); 
dydt(NIK) = (act(y(TAK1),rpar(:,25))*ymax(NIK) - y(NIK))/tau(NIK); 
dydt(IKK) = (act(y(NIK),rpar(:,26))*ymax(IKK) - y(IKK))/tau(IKK); 
dydt(IKB) = (OR(inhib(y(IKK),rpar(:,27)),act(y(IKBa_mrna),rpar(:,82)))*ymax(IKB) - y(IKB))/tau(IKB); 
dydt(NFKB) = (AND(rpar(:,28),inhib(y(IKB),rpar(:,28)),inhib(y(PPARg),rpar(:,28)))*ymax(NFKB) - y(NFKB))/tau(NFKB); 
dydt(TNFa_mrna) = (OR(act(y(NFKB),rpar(:,29)),OR(act(y(IRF3),rpar(:,85)),act(y(IRF1),rpar(:,117))))*ymax(TNFa_mrna) - y(TNFa_mrna))/tau(TNFa_mrna); 
dydt(IL15_mrna) = (act(y(NFKB),rpar(:,30))*ymax(IL15_mrna) - y(IL15_mrna))/tau(IL15_mrna); 
dydt(GMCSF_mrna) = (act(y(NFKB),rpar(:,31))*ymax(GMCSF_mrna) - y(GMCSF_mrna))/tau(GMCSF_mrna); 
dydt(Mcpt1_mrna) = (act(y(NFKB),rpar(:,32))*ymax(Mcpt1_mrna) - y(Mcpt1_mrna))/tau(Mcpt1_mrna); 
dydt(IL8_mrna) = (act(y(NFKB),rpar(:,33))*ymax(IL8_mrna) - y(IL8_mrna))/tau(IL8_mrna); 
dydt(IL18_mrna) = (act(y(NFKB),rpar(:,34))*ymax(IL18_mrna) - y(IL18_mrna))/tau(IL18_mrna); 
dydt(MKK36) = (act(y(TAK1),rpar(:,35))*ymax(MKK36) - y(MKK36))/tau(MKK36); 
dydt(p38) = (act(y(MKK36),rpar(:,36))*ymax(p38) - y(p38))/tau(p38); 
dydt(SP1) = (act(y(p38),rpar(:,37))*ymax(SP1) - y(SP1))/tau(SP1); 
dydt(ATF2) = (act(y(p38),rpar(:,38))*ymax(ATF2) - y(ATF2))/tau(ATF2); 
dydt(ELK1) = (OR(act(y(JNK),rpar(:,18)),act(y(p38),rpar(:,39)))*ymax(ELK1) - y(ELK1))/tau(ELK1); 
dydt(IL10_mrna) = (act(y(SP1),rpar(:,40))*ymax(IL10_mrna) - y(IL10_mrna))/tau(IL10_mrna); 
dydt(MMP3_mrna) = (OR(AND(rpar(:,41),act(y(ATF2),rpar(:,41)),act(y(ELK1),rpar(:,41))),act(y(ETS1),rpar(:,53)))*ymax(MMP3_mrna) - y(MMP3_mrna))/tau(MMP3_mrna); 
dydt(MMP7_mrna) = (OR(AND(rpar(:,42),act(y(ATF2),rpar(:,42)),act(y(ELK1),rpar(:,42))),act(y(ETS1),rpar(:,54)))*ymax(MMP7_mrna) - y(MMP7_mrna))/tau(MMP7_mrna); 
dydt(MMP9_mrna) = (OR(AND(rpar(:,43),act(y(ATF2),rpar(:,43)),act(y(ELK1),rpar(:,43))),act(y(ETS1),rpar(:,55)))*ymax(MMP9_mrna) - y(MMP9_mrna))/tau(MMP9_mrna); 
dydt(MMP12_mrna) = (AND(rpar(:,44),act(y(ATF2),rpar(:,44)),act(y(ELK1),rpar(:,44)))*ymax(MMP12_mrna) - y(MMP12_mrna))/tau(MMP12_mrna); 
dydt(IL1R) = (act(y(IL1),rpar(:,5))*ymax(IL1R) - y(IL1R))/tau(IL1R); 
dydt(TRAF6) = (act(y(IRAK1),rpar(:,12))*ymax(TRAF6) - y(TRAF6))/tau(TRAF6); 
dydt(cRaf) = (OR(act(y(TRAF6),rpar(:,45)),act(y(Ras),rpar(:,46)))*ymax(cRaf) - y(cRaf))/tau(cRaf); 
dydt(Ras) = (act(y(SOS),rpar(:,64))*ymax(Ras) - y(Ras))/tau(Ras); 
dydt(MEK12) = (act(y(cRaf),rpar(:,47))*ymax(MEK12) - y(MEK12))/tau(MEK12); 
dydt(CEBPbeta) = (act(y(ERK12),rpar(:,49))*ymax(CEBPbeta) - y(CEBPbeta))/tau(CEBPbeta); 
dydt(MKK47) = (act(y(TAK1),rpar(:,15))*ymax(MKK47) - y(MKK47))/tau(MKK47); 
dydt(JNK) = (act(y(MKK47),rpar(:,16))*ymax(JNK) - y(JNK))/tau(JNK); 
dydt(cJun) = (act(y(JNK),rpar(:,17))*ymax(cJun) - y(cJun))/tau(cJun); 
dydt(IL1_mrna) = (act(y(AP1),rpar(:,20))*ymax(IL1_mrna) - y(IL1_mrna))/tau(IL1_mrna); 
dydt(IL6_mrna) = (act(y(AP1),rpar(:,21))*ymax(IL6_mrna) - y(IL6_mrna))/tau(IL6_mrna); 
dydt(ERK12) = (act(y(MEK12),rpar(:,48))*ymax(ERK12) - y(ERK12))/tau(ERK12); 
dydt(TSG6) = (act(y(CEBPbeta),rpar(:,50))*ymax(TSG6) - y(TSG6))/tau(TSG6); 
dydt(CYP19) = (act(y(CEBPbeta),rpar(:,51))*ymax(CYP19) - y(CYP19))/tau(CYP19); 
dydt(ETS1) = (act(y(ERK12),rpar(:,52))*ymax(ETS1) - y(ETS1))/tau(ETS1); 
dydt(MMP3) = (act(y(MMP3_mrna),rpar(:,78))*ymax(MMP3) - y(MMP3))/tau(MMP3); 
dydt(MMP7) = (act(y(MMP7_mrna),rpar(:,79))*ymax(MMP7) - y(MMP7))/tau(MMP7); 
dydt(MMP9) = (act(y(MMP9_mrna),rpar(:,80))*ymax(MMP9) - y(MMP9))/tau(MMP9); 
dydt(GP130) = (act(y(IL6),rpar(:,56))*ymax(GP130) - y(GP130))/tau(GP130); 
dydt(IL6R) = (act(y(IL6),rpar(:,57))*ymax(IL6R) - y(IL6R))/tau(IL6R); 
dydt(SHC) = (act(y(IL6R),rpar(:,59))*ymax(SHC) - y(SHC))/tau(SHC); 
dydt(JAK2) = (OR(AND(rpar(:,58),act(y(GP130),rpar(:,58)),inhib(y(SOCS3),rpar(:,58))),AND(rpar(:,60),act(y(SHC),rpar(:,60)),inhib(y(SOCS3),rpar(:,60))))*ymax(JAK2) - y(JAK2))/tau(JAK2); 
dydt(GRB2) = (OR(act(y(SHC),rpar(:,61)),act(y(SHP2),rpar(:,62)))*ymax(GRB2) - y(GRB2))/tau(GRB2); 
dydt(SOS) = (act(y(GRB2),rpar(:,63))*ymax(SOS) - y(SOS))/tau(SOS); 
dydt(PI3K) = (act(y(IL6R),rpar(:,65))*ymax(PI3K) - y(PI3K))/tau(PI3K); 
dydt(AKT) = (act(y(PI3K),rpar(:,66))*ymax(AKT) - y(AKT))/tau(AKT); 
dydt(MCL1) = (act(y(AKT),rpar(:,67))*ymax(MCL1) - y(MCL1))/tau(MCL1); 
dydt(STAT3) = (act(y(JAK2),rpar(:,68))*ymax(STAT3) - y(STAT3))/tau(STAT3); 
dydt(A2M_mrna) = (act(y(STAT3),rpar(:,69))*ymax(A2M_mrna) - y(A2M_mrna))/tau(A2M_mrna); 
dydt(CRP_mrna) = (act(y(STAT3),rpar(:,70))*ymax(CRP_mrna) - y(CRP_mrna))/tau(CRP_mrna); 
dydt(VEGF_mrna) = (act(y(STAT3),rpar(:,71))*ymax(VEGF_mrna) - y(VEGF_mrna))/tau(VEGF_mrna); 
dydt(SOCS3_mrna) = (act(y(STAT3),rpar(:,72))*ymax(SOCS3_mrna) - y(SOCS3_mrna))/tau(SOCS3_mrna); 
dydt(SOCS3) = (act(y(SOCS3_mrna),rpar(:,73))*ymax(SOCS3) - y(SOCS3))/tau(SOCS3); 
dydt(TAB1) = (0*ymax(TAB1) - y(TAB1))/tau(TAB1); 
dydt(cFos) = (act(y(ERK12),rpar(:,75))*ymax(cFos) - y(cFos))/tau(cFos); 
dydt(SHP2) = (0*ymax(SHP2) - y(SHP2))/tau(SHP2); 
dydt(CD14) = (act(y(LPS),rpar(:,6))*ymax(CD14) - y(CD14))/tau(CD14); 
dydt(TLR4) = (act(y(CD14),rpar(:,7))*ymax(TLR4) - y(TLR4))/tau(TLR4); 
dydt(MyD88) = (OR(act(y(TLR4),rpar(:,8)),act(y(IL1R),rpar(:,9)))*ymax(MyD88) - y(MyD88))/tau(MyD88); 
dydt(IRAK4) = (act(y(MyD88),rpar(:,10))*ymax(IRAK4) - y(IRAK4))/tau(IRAK4); 
dydt(IRAK1) = (act(y(IRAK4),rpar(:,11))*ymax(IRAK1) - y(IRAK1))/tau(IRAK1); 
dydt(IKBa_mrna) = (act(y(NFKB),rpar(:,81))*ymax(IKBa_mrna) - y(IKBa_mrna))/tau(IKBa_mrna); 
dydt(TRIF) = (act(y(TLR4),rpar(:,83))*ymax(TRIF) - y(TRIF))/tau(TRIF); 
dydt(IRF3) = (act(y(TRIF),rpar(:,84))*ymax(IRF3) - y(IRF3))/tau(IRF3); 
dydt(IFNb_mrna) = (act(y(IRF3),rpar(:,86))*ymax(IFNb_mrna) - y(IFNb_mrna))/tau(IFNb_mrna); 
dydt(CCL5_mrna) = (act(y(IRF3),rpar(:,87))*ymax(CCL5_mrna) - y(CCL5_mrna))/tau(CCL5_mrna); 
dydt(IFNg) = (rpar(1,88)*ymax(IFNg) - y(IFNg))/tau(IFNg); 
dydt(IFNgR) = (act(y(IFNg),rpar(:,89))*ymax(IFNgR) - y(IFNgR))/tau(IFNgR); 
dydt(JAK12_IFNg) = (AND(rpar(:,90),act(y(IFNgR),rpar(:,90)),inhib(y(SOCS1),rpar(:,90)))*ymax(JAK12_IFNg) - y(JAK12_IFNg))/tau(JAK12_IFNg); 
dydt(STAT1) = (act(y(JAK12_IFNg),rpar(:,91))*ymax(STAT1) - y(STAT1))/tau(STAT1); 
dydt(IRF1) = (act(y(IRF1_mrna),rpar(:,93))*ymax(IRF1) - y(IRF1))/tau(IRF1); 
dydt(IRF1_mrna) = (act(y(STAT1),rpar(:,92))*ymax(IRF1_mrna) - y(IRF1_mrna))/tau(IRF1_mrna); 
dydt(SOCS1) = (act(y(SOCS1_mrna),rpar(:,95))*ymax(SOCS1) - y(SOCS1))/tau(SOCS1); 
dydt(SOCS1_mrna) = (OR(act(y(IRF1),rpar(:,94)),act(y(STAT6),rpar(:,110)))*ymax(SOCS1_mrna) - y(SOCS1_mrna))/tau(SOCS1_mrna); 
dydt(Myc_mrna) = (act(y(STAT1),rpar(:,98))*ymax(Myc_mrna) - y(Myc_mrna))/tau(Myc_mrna); 
dydt(SMAD7_mrna) = (act(y(STAT1),rpar(:,97))*ymax(SMAD7_mrna) - y(SMAD7_mrna))/tau(SMAD7_mrna); 
dydt(ICAM1_mrna) = (act(y(STAT1),rpar(:,96))*ymax(ICAM1_mrna) - y(ICAM1_mrna))/tau(ICAM1_mrna); 
dydt(IL4) = (rpar(1,99)*ymax(IL4) - y(IL4))/tau(IL4); 
dydt(IL4R) = (OR(act(y(IL4),rpar(:,100)),act(y(IL4Ra_mrna),rpar(:,109)))*ymax(IL4R) - y(IL4R))/tau(IL4R); 
dydt(JAK13_IL4) = (AND(rpar(:,101),inhib(y(SOCS1),rpar(:,101)),act(y(IL4R),rpar(:,101)))*ymax(JAK13_IL4) - y(JAK13_IL4))/tau(JAK13_IL4); 
dydt(SHP1) = (act(y(JAK13_IL4),rpar(:,102))*ymax(SHP1) - y(SHP1))/tau(SHP1); 
dydt(STAT6) = (AND(rpar(:,103),act(y(JAK13_IL4),rpar(:,103)),inhib(y(SHP1),rpar(:,103)))*ymax(STAT6) - y(STAT6))/tau(STAT6); 
dydt(CCL17_mrna) = (act(y(STAT6),rpar(:,104))*ymax(CCL17_mrna) - y(CCL17_mrna))/tau(CCL17_mrna); 
dydt(CCL17) = (act(y(CCL17_mrna),rpar(:,105))*ymax(CCL17) - y(CCL17))/tau(CCL17); 
dydt(PPARg_mrna) = (act(y(STAT6),rpar(:,106))*ymax(PPARg_mrna) - y(PPARg_mrna))/tau(PPARg_mrna); 
dydt(PPARg) = (act(y(PPARg_mrna),rpar(:,107))*ymax(PPARg) - y(PPARg))/tau(PPARg); 
dydt(IL4Ra_mrna) = (act(y(STAT6),rpar(:,108))*ymax(IL4Ra_mrna) - y(IL4Ra_mrna))/tau(IL4Ra_mrna); 
dydt(Arg1_mrna) = (act(y(STAT6),rpar(:,111))*ymax(Arg1_mrna) - y(Arg1_mrna))/tau(Arg1_mrna); 
dydt(Arg1) = (AND(rpar(:,112),act(y(Arg1_mrna),rpar(:,112)),inhib(y(iNOS),rpar(:,112)))*ymax(Arg1) - y(Arg1))/tau(Arg1); 
dydt(CD23_mrna) = (act(y(STAT6),rpar(:,113))*ymax(CD23_mrna) - y(CD23_mrna))/tau(CD23_mrna); 
dydt(CD23) = (act(y(CD23_mrna),rpar(:,114))*ymax(CD23) - y(CD23))/tau(CD23); 
dydt(AMAC1_mrna) = (act(y(STAT6),rpar(:,115))*ymax(AMAC1_mrna) - y(AMAC1_mrna))/tau(AMAC1_mrna); 
dydt(AMAC1) = (act(y(AMAC1_mrna),rpar(:,116))*ymax(AMAC1) - y(AMAC1))/tau(AMAC1); 
dydt(iNOS_mrna) = (OR(act(y(NFKB),rpar(:,118)),act(y(IRF1),rpar(:,120)))*ymax(iNOS_mrna) - y(iNOS_mrna))/tau(iNOS_mrna); 
dydt(iNOS) = (AND(rpar(:,119),inhib(y(Arg1),rpar(:,119)),act(y(iNOS_mrna),rpar(:,119)))*ymax(iNOS) - y(iNOS))/tau(iNOS); 
dydt(COX2_mrna) = (act(y(NFKB),rpar(:,130))*ymax(COX2_mrna) - y(COX2_mrna))/tau(COX2_mrna); 
dydt(COX2) = (act(y(COX2_mrna),rpar(:,131))*ymax(COX2) - y(COX2))/tau(COX2); 
dydt(CXCL10_mrna) = (OR(act(y(NFKB),rpar(:,125)),act(y(STAT1),rpar(:,126)))*ymax(CXCL10_mrna) - y(CXCL10_mrna))/tau(CXCL10_mrna); 
dydt(CXCL10) = (act(y(CXCL10_mrna),rpar(:,127))*ymax(CXCL10) - y(CXCL10))/tau(CXCL10); 
dydt(KLF4_mrna) = (act(y(STAT6),rpar(:,128))*ymax(KLF4_mrna) - y(KLF4_mrna))/tau(KLF4_mrna); 
dydt(KLF4) = (act(y(KLF4_mrna),rpar(:,129))*ymax(KLF4) - y(KLF4))/tau(KLF4); 
dydt(CD36_mrna) = (act(y(PPARg),rpar(:,132))*ymax(CD36_mrna) - y(CD36_mrna))/tau(CD36_mrna); 
dydt(CD36) = (act(y(CD36_mrna),rpar(:,133))*ymax(CD36) - y(CD36))/tau(CD36); 
dydt(Fizz1_mrna) = (act(y(STAT6),rpar(:,123))*ymax(Fizz1_mrna) - y(Fizz1_mrna))/tau(Fizz1_mrna); 
dydt(Fizz1) = (act(y(Fizz1_mrna),rpar(:,124))*ymax(Fizz1) - y(Fizz1))/tau(Fizz1); 
dydt(Ym1_mrna) = (act(y(STAT6),rpar(:,121))*ymax(Ym1_mrna) - y(Ym1_mrna))/tau(Ym1_mrna); 
dydt(Ym1) = (act(y(Ym1_mrna),rpar(:,122))*ymax(Ym1) - y(Ym1))/tau(Ym1); 
dydt(AP1) = (AND(rpar(:,19),act(y(cJun),rpar(:,19)),act(y(cFos),rpar(:,19)),inhib(y(PPARg),rpar(:,19)))*ymax(AP1) - y(AP1))/tau(AP1); 

% utility functions 
function fact = act(x,rpar) 
% hill activation function with parameters w (weight), n (Hill coeff), EC50 
    w = rpar(1); 
    n = rpar(2); 
    EC50 = rpar(3); 
    beta = (EC50.^n - 1)./(2*EC50.^n - 1); 
    K = (beta - 1).^(1./n); 
    fact = w.*(beta.*x.^n)./(K.^n + x.^n); 
    if fact>w,                 % cap fact(x)<= 1 
        fact = w; 
    end
 
function finhib = inhib(x,rpar) 
% inverse hill function with parameters w (weight), n (Hill coeff), EC50 
    finhib = rpar(1) - act(x,rpar);
 
function z = OR(x,y) 
% OR logic gate 
    z = x + y - x*y;
 
function z = AND(rpar,varargin) 
% AND logic gate, multiplying all of the reactants together 
    w = rpar(1); 
    if w == 0, 
        z = 0; 
    else 
        v = cell2mat(varargin); 
        z = prod(v)/w^(nargin-2);  
    end 
