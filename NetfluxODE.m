function NetfluxODE() 
% Generated by Netflux 0.08a on 28-Oct-2016
 
% species parameters 
speciesNames = {'TNFa','IL1','IL6','LPS','IFNg','IL4','IL12','IL12_mrna','IL10','IL10_mrna','IFNb','IFNb_mrna','TNFR','TRAF2','TAK1','NIK','IKK','IRF5','IKB','NFKB','TNFa_mrna','IL15_mrna','GMCSF_mrna','Mcpt1_mrna','IL8_mrna','IL18_mrna','IKBa_mrna','iNOS_mrna','iNOS','COX2_mrna','COX2','CXCL10_mrna','CXCL10','cAMP','PKA','CREB','CEBPbeta','TSG6','CYP19','MKK36','p38','SP1','ATF2','ELK1','MMP3_mrna','MMP7_mrna','MMP9_mrna','MMP12_mrna','IL1R','TRAF6','cRaf','SOS','Ras','MEK12','ERK12','ETS1','MMP3','MMP7','MMP9','MKK47','JNK','cJun','cFos','AP1','IL1_mrna','IL6_mrna','GP130','JAK2','GRB2','STAT3','A2M_mrna','CRP_mrna','VEGF_mrna','SOCS3_mrna','SOCS3','BCL3','PI3K','AKT','MCL1','CD14','TLR4','TRIF','IRF3','CCL5_mrna','IFNbR','JAKIFNbR','MyD88','IRAK4','IRAK1','IFNgR','GSK3','JAK12_IFNg','SHP2','STAT1','IRF1','IRF1_mrna','SOCS1','SOCS1_mrna','Myc_mrna','SMAD7_mrna','ICAM1_mrna','IL12Rb1','STAT4','IFNg_mrna','IL4R','JAK13_IL4','STAT6','CCL17_mrna','CCL17','PPARg_mrna','PPARg','CD36_mrna','CD36','IL4Ra_mrna','Arg1_mrna','Arg1','CD23_mrna','CD23','AMAC1_mrna','AMAC1','KLF4_mrna','KLF4','Fizz1_mrna','Fizz1','Ym1_mrna','Ym1','IL10R','JAK1IL10R','IL6R','TAB1',}; 
tau = [1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 10, 10, 10, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 10, 10, 10, 10, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 10, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, 1.000000e-01, ]; 
ymax = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ];
 
% reaction parameters 
w = [5.000000e-02, 5.000000e-02, 5.000000e-02, 5.000000e-02, 5.000000e-02, 5.000000e-02, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 5.000000e-01, 5.000000e-01, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 5.000000e-01, 1, 1, 1, 5.000000e-01, 1, 1, 1, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 5.000000e-01, 1, 1, 1, 1, 1, 1, 1, 5.000000e-02, 5.000000e-02, 5.000000e-02, ]; 
n = [1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, 1.400000e+00, ]; 
EC50 = [5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, 5.000000e-01, ]; 
rpar = [w;n;EC50];
 
params = {rpar,tau,ymax,speciesNames};
 
% Run single simulation 
y0 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ]; 
tspan = [0 300]; 
options = []; 
[t,y] = ode23(@ODEfun,tspan,y0,options,params); 
dlmwrite('y0',y(end,:));
figure; 
plot(t,y); 
xlabel('Time (sec)'); ylabel('Fractional Species Activation'); legend(speciesNames);
 ka
 
function dydt=ODEfun(t,y,params) 
% Assign names for parameters 
[rpar,tau,ymax,speciesNames]=params{:}; 
TNFa = 1; 
IL1 = 2; 
IL6 = 3; 
LPS = 4; 
IFNg = 5; 
IL4 = 6; 
IL12 = 7; 
IL12_mrna = 8; 
IL10 = 9; 
IL10_mrna = 10; 
IFNb = 11; 
IFNb_mrna = 12; 
TNFR = 13; 
TRAF2 = 14; 
TAK1 = 15; 
NIK = 16; 
IKK = 17; 
IRF5 = 18; 
IKB = 19; 
NFKB = 20; 
TNFa_mrna = 21; 
IL15_mrna = 22; 
GMCSF_mrna = 23; 
Mcpt1_mrna = 24; 
IL8_mrna = 25; 
IL18_mrna = 26; 
IKBa_mrna = 27; 
iNOS_mrna = 28; 
iNOS = 29; 
COX2_mrna = 30; 
COX2 = 31; 
CXCL10_mrna = 32; 
CXCL10 = 33; 
cAMP = 34; 
PKA = 35; 
CREB = 36; 
CEBPbeta = 37; 
TSG6 = 38; 
CYP19 = 39; 
MKK36 = 40; 
p38 = 41; 
SP1 = 42; 
ATF2 = 43; 
ELK1 = 44; 
MMP3_mrna = 45; 
MMP7_mrna = 46; 
MMP9_mrna = 47; 
MMP12_mrna = 48; 
IL1R = 49; 
TRAF6 = 50; 
cRaf = 51; 
SOS = 52; 
Ras = 53; 
MEK12 = 54; 
ERK12 = 55; 
ETS1 = 56; 
MMP3 = 57; 
MMP7 = 58; 
MMP9 = 59; 
MKK47 = 60; 
JNK = 61; 
cJun = 62; 
cFos = 63; 
AP1 = 64; 
IL1_mrna = 65; 
IL6_mrna = 66; 
GP130 = 67; 
JAK2 = 68; 
GRB2 = 69; 
STAT3 = 70; 
A2M_mrna = 71; 
CRP_mrna = 72; 
VEGF_mrna = 73; 
SOCS3_mrna = 74; 
SOCS3 = 75; 
BCL3 = 76; 
PI3K = 77; 
AKT = 78; 
MCL1 = 79; 
CD14 = 80; 
TLR4 = 81; 
TRIF = 82; 
IRF3 = 83; 
CCL5_mrna = 84; 
IFNbR = 85; 
JAKIFNbR = 86; 
MyD88 = 87; 
IRAK4 = 88; 
IRAK1 = 89; 
IFNgR = 90; 
GSK3 = 91; 
JAK12_IFNg = 92; 
SHP2 = 93; 
STAT1 = 94; 
IRF1 = 95; 
IRF1_mrna = 96; 
SOCS1 = 97; 
SOCS1_mrna = 98; 
Myc_mrna = 99; 
SMAD7_mrna = 100; 
ICAM1_mrna = 101; 
IL12Rb1 = 102; 
STAT4 = 103; 
IFNg_mrna = 104; 
IL4R = 105; 
JAK13_IL4 = 106; 
STAT6 = 107; 
CCL17_mrna = 108; 
CCL17 = 109; 
PPARg_mrna = 110; 
PPARg = 111; 
CD36_mrna = 112; 
CD36 = 113; 
IL4Ra_mrna = 114; 
Arg1_mrna = 115; 
Arg1 = 116; 
CD23_mrna = 117; 
CD23 = 118; 
AMAC1_mrna = 119; 
AMAC1 = 120; 
KLF4_mrna = 121; 
KLF4 = 122; 
Fizz1_mrna = 123; 
Fizz1 = 124; 
Ym1_mrna = 125; 
Ym1 = 126; 
IL10R = 127; 
JAK1IL10R = 128; 
IL6R = 129; 
TAB1 = 130; 
dydt = zeros(130,1); 
dydt(TNFa) = (OR(rpar(1,1),act(y(TNFa_mrna),rpar(:,50)))*ymax(TNFa) - y(TNFa))/tau(TNFa); 
dydt(IL1) = (OR(rpar(1,2),act(y(IL1_mrna),rpar(:,37)))*ymax(IL1) - y(IL1))/tau(IL1); 
dydt(IL6) = (OR(rpar(1,3),act(y(IL6_mrna),rpar(:,38)))*ymax(IL6) - y(IL6))/tau(IL6); 
dydt(LPS) = (rpar(1,4)*ymax(LPS) - y(LPS))/tau(LPS); 
dydt(IFNg) = (OR(rpar(1,5),act(y(IFNg_mrna),rpar(:,143)))*ymax(IFNg) - y(IFNg))/tau(IFNg); 
dydt(IL4) = (rpar(1,6)*ymax(IL4) - y(IL4))/tau(IL4); 
dydt(IL12) = (OR(act(y(IL12_mrna),rpar(:,139)),rpar(1,180))*ymax(IL12) - y(IL12))/tau(IL12); 
dydt(IL12_mrna) = (OR(act(y(NFKB),rpar(:,56)),act(y(IRF1),rpar(:,133)))*ymax(IL12_mrna) - y(IL12_mrna))/tau(IL12_mrna); 
dydt(IL10) = (OR(act(y(IL10_mrna),rpar(:,76)),rpar(1,178))*ymax(IL10) - y(IL10))/tau(IL10); 
dydt(IL10_mrna) = (OR(act(y(SP1),rpar(:,75)),OR(act(y(AP1),rpar(:,92)),OR(act(y(CREB),rpar(:,93)),act(y(CEBPbeta),rpar(:,97)))))*ymax(IL10_mrna) - y(IL10_mrna))/tau(IL10_mrna); 
dydt(IFNb) = (OR(act(y(IFNb_mrna),rpar(:,16)),rpar(1,179))*ymax(IFNb) - y(IFNb))/tau(IFNb); 
dydt(IFNb_mrna) = (OR(act(y(IRF3),rpar(:,15)),OR(act(y(IRF5),rpar(:,45)),act(y(IRF1),rpar(:,132))))*ymax(IFNb_mrna) - y(IFNb_mrna))/tau(IFNb_mrna); 
dydt(TNFR) = (act(y(TNFa),rpar(:,39))*ymax(TNFR) - y(TNFR))/tau(TNFR); 
dydt(TRAF2) = (act(y(TNFR),rpar(:,40))*ymax(TRAF2) - y(TRAF2))/tau(TRAF2); 
dydt(TAK1) = (OR(act(y(TAB1),rpar(:,26)),act(y(TRAF2),rpar(:,41)))*ymax(TAK1) - y(TAK1))/tau(TAK1); 
dydt(NIK) = (act(y(TAK1),rpar(:,42))*ymax(NIK) - y(NIK))/tau(NIK); 
dydt(IKK) = (act(y(NIK),rpar(:,43))*ymax(IKK) - y(IKK))/tau(IKK); 
dydt(IRF5) = (act(y(IKK),rpar(:,44))*ymax(IRF5) - y(IRF5))/tau(IRF5); 
dydt(IKB) = (OR(inhib(y(IKK),rpar(:,46)),OR(act(y(IKBa_mrna),rpar(:,58)),act(y(BCL3),rpar(:,118))))*ymax(IKB) - y(IKB))/tau(IKB); 
dydt(NFKB) = (OR(AND(rpar(:,47),inhib(y(IKB),rpar(:,47)),inhib(y(PPARg),rpar(:,47))),act(y(GSK3),rpar(:,48)))*ymax(NFKB) - y(NFKB))/tau(NFKB); 
dydt(TNFa_mrna) = (OR(act(y(IRF3),rpar(:,14)),OR(act(y(NFKB),rpar(:,49)),act(y(IRF1),rpar(:,134))))*ymax(TNFa_mrna) - y(TNFa_mrna))/tau(TNFa_mrna); 
dydt(IL15_mrna) = (act(y(NFKB),rpar(:,51))*ymax(IL15_mrna) - y(IL15_mrna))/tau(IL15_mrna); 
dydt(GMCSF_mrna) = (act(y(NFKB),rpar(:,52))*ymax(GMCSF_mrna) - y(GMCSF_mrna))/tau(GMCSF_mrna); 
dydt(Mcpt1_mrna) = (act(y(NFKB),rpar(:,53))*ymax(Mcpt1_mrna) - y(Mcpt1_mrna))/tau(Mcpt1_mrna); 
dydt(IL8_mrna) = (act(y(NFKB),rpar(:,54))*ymax(IL8_mrna) - y(IL8_mrna))/tau(IL8_mrna); 
dydt(IL18_mrna) = (act(y(NFKB),rpar(:,55))*ymax(IL18_mrna) - y(IL18_mrna))/tau(IL18_mrna); 
dydt(IKBa_mrna) = (act(y(NFKB),rpar(:,57))*ymax(IKBa_mrna) - y(IKBa_mrna))/tau(IKBa_mrna); 
dydt(iNOS_mrna) = (OR(act(y(NFKB),rpar(:,59)),act(y(IRF1),rpar(:,135)))*ymax(iNOS_mrna) - y(iNOS_mrna))/tau(iNOS_mrna); 
dydt(iNOS) = (AND(rpar(:,60),act(y(iNOS_mrna),rpar(:,60)),inhib(y(Arg1),rpar(:,60)))*ymax(iNOS) - y(iNOS))/tau(iNOS); 
dydt(COX2_mrna) = (act(y(NFKB),rpar(:,62))*ymax(COX2_mrna) - y(COX2_mrna))/tau(COX2_mrna); 
dydt(COX2) = (act(y(COX2_mrna),rpar(:,63))*ymax(COX2) - y(COX2))/tau(COX2); 
dydt(CXCL10_mrna) = (OR(act(y(NFKB),rpar(:,61)),act(y(STAT1),rpar(:,167)))*ymax(CXCL10_mrna) - y(CXCL10_mrna))/tau(CXCL10_mrna); 
dydt(CXCL10) = (act(y(CXCL10_mrna),rpar(:,168))*ymax(CXCL10) - y(CXCL10))/tau(CXCL10); 
dydt(cAMP) = (act(y(COX2),rpar(:,64))*ymax(cAMP) - y(cAMP))/tau(cAMP); 
dydt(PKA) = (act(y(cAMP),rpar(:,65))*ymax(PKA) - y(PKA))/tau(PKA); 
dydt(CREB) = (OR(AND(rpar(:,66),act(y(PKA),rpar(:,66)),inhib(y(GSK3),rpar(:,66))),OR(AND(rpar(:,74),act(y(p38),rpar(:,74)),inhib(y(GSK3),rpar(:,74))),AND(rpar(:,91),act(y(ERK12),rpar(:,91)),inhib(y(GSK3),rpar(:,91)))))*ymax(CREB) - y(CREB))/tau(CREB); 
dydt(CEBPbeta) = (OR(act(y(CREB),rpar(:,96)),act(y(KLF4),rpar(:,172)))*ymax(CEBPbeta) - y(CEBPbeta))/tau(CEBPbeta); 
dydt(TSG6) = (act(y(CEBPbeta),rpar(:,98))*ymax(TSG6) - y(TSG6))/tau(TSG6); 
dydt(CYP19) = (act(y(CEBPbeta),rpar(:,99))*ymax(CYP19) - y(CYP19))/tau(CYP19); 
dydt(MKK36) = (OR(act(y(TAK1),rpar(:,67)),act(y(Ras),rpar(:,68)))*ymax(MKK36) - y(MKK36))/tau(MKK36); 
dydt(p38) = (act(y(MKK36),rpar(:,69))*ymax(p38) - y(p38))/tau(p38); 
dydt(SP1) = (act(y(p38),rpar(:,70))*ymax(SP1) - y(SP1))/tau(SP1); 
dydt(ATF2) = (act(y(p38),rpar(:,71))*ymax(ATF2) - y(ATF2))/tau(ATF2); 
dydt(ELK1) = (OR(act(y(JNK),rpar(:,32)),act(y(p38),rpar(:,72)))*ymax(ELK1) - y(ELK1))/tau(ELK1); 
dydt(MMP3_mrna) = (OR(AND(rpar(:,77),act(y(ATF2),rpar(:,77)),act(y(ELK1),rpar(:,77))),act(y(ETS1),rpar(:,101)))*ymax(MMP3_mrna) - y(MMP3_mrna))/tau(MMP3_mrna); 
dydt(MMP7_mrna) = (OR(AND(rpar(:,78),act(y(ATF2),rpar(:,78)),act(y(ELK1),rpar(:,78))),act(y(ETS1),rpar(:,102)))*ymax(MMP7_mrna) - y(MMP7_mrna))/tau(MMP7_mrna); 
dydt(MMP9_mrna) = (OR(AND(rpar(:,79),act(y(ATF2),rpar(:,79)),act(y(ELK1),rpar(:,79))),act(y(ETS1),rpar(:,103)))*ymax(MMP9_mrna) - y(MMP9_mrna))/tau(MMP9_mrna); 
dydt(MMP12_mrna) = (AND(rpar(:,83),act(y(ATF2),rpar(:,83)),act(y(ELK1),rpar(:,83)))*ymax(MMP12_mrna) - y(MMP12_mrna))/tau(MMP12_mrna); 
dydt(IL1R) = (act(y(IL1),rpar(:,7))*ymax(IL1R) - y(IL1R))/tau(IL1R); 
dydt(TRAF6) = (act(y(IRAK1),rpar(:,24))*ymax(TRAF6) - y(TRAF6))/tau(TRAF6); 
dydt(cRaf) = (OR(act(y(TRAF6),rpar(:,84)),AND(rpar(:,87),act(y(Ras),rpar(:,87)),inhib(y(AKT),rpar(:,87))))*ymax(cRaf) - y(cRaf))/tau(cRaf); 
dydt(SOS) = (act(y(GRB2),rpar(:,85))*ymax(SOS) - y(SOS))/tau(SOS); 
dydt(Ras) = (act(y(SOS),rpar(:,86))*ymax(Ras) - y(Ras))/tau(Ras); 
dydt(MEK12) = (act(y(cRaf),rpar(:,88))*ymax(MEK12) - y(MEK12))/tau(MEK12); 
dydt(ERK12) = (OR(act(y(MEK12),rpar(:,89)),act(y(STAT1),rpar(:,128)))*ymax(ERK12) - y(ERK12))/tau(ERK12); 
dydt(ETS1) = (act(y(ERK12),rpar(:,100))*ymax(ETS1) - y(ETS1))/tau(ETS1); 
dydt(MMP3) = (act(y(MMP3_mrna),rpar(:,80))*ymax(MMP3) - y(MMP3))/tau(MMP3); 
dydt(MMP7) = (act(y(MMP7_mrna),rpar(:,81))*ymax(MMP7) - y(MMP7))/tau(MMP7); 
dydt(MMP9) = (act(y(MMP9_mrna),rpar(:,82))*ymax(MMP9) - y(MMP9))/tau(MMP9); 
dydt(MKK47) = (OR(act(y(TAK1),rpar(:,28)),act(y(Ras),rpar(:,29)))*ymax(MKK47) - y(MKK47))/tau(MKK47); 
dydt(JNK) = (act(y(MKK47),rpar(:,30))*ymax(JNK) - y(JNK))/tau(JNK); 
dydt(cJun) = (act(y(JNK),rpar(:,31))*ymax(cJun) - y(cJun))/tau(cJun); 
dydt(cFos) = (act(y(ERK12),rpar(:,90))*ymax(cFos) - y(cFos))/tau(cFos); 
dydt(AP1) = (OR(AND(rpar(:,33),act(y(cJun),rpar(:,33)),act(y(cFos),rpar(:,33)),inhib(y(GSK3),rpar(:,33))),AND(rpar(:,34),act(y(cJun),rpar(:,34)),act(y(cFos),rpar(:,34)),inhib(y(PPARg),rpar(:,34))))*ymax(AP1) - y(AP1))/tau(AP1); 
dydt(IL1_mrna) = (act(y(AP1),rpar(:,35))*ymax(IL1_mrna) - y(IL1_mrna))/tau(IL1_mrna); 
dydt(IL6_mrna) = (act(y(AP1),rpar(:,36))*ymax(IL6_mrna) - y(IL6_mrna))/tau(IL6_mrna); 
dydt(GP130) = (act(y(IL6R),rpar(:,105))*ymax(GP130) - y(GP130))/tau(GP130); 
dydt(JAK2) = (AND(rpar(:,106),act(y(GP130),rpar(:,106)),inhib(y(SOCS3),rpar(:,106)))*ymax(JAK2) - y(JAK2))/tau(JAK2); 
dydt(GRB2) = (OR(act(y(SHP2),rpar(:,108)),act(y(IL4R),rpar(:,145)))*ymax(GRB2) - y(GRB2))/tau(GRB2); 
dydt(STAT3) = (OR(AND(rpar(:,109),act(y(JAK2),rpar(:,109)),act(y(GSK3),rpar(:,109)),inhib(y(SHP2),rpar(:,109))),OR(AND(rpar(:,125),act(y(GSK3),rpar(:,125)),act(y(JAK12_IFNg),rpar(:,125)),inhib(y(SHP2),rpar(:,125))),AND(rpar(:,176),act(y(GSK3),rpar(:,176)),act(y(JAK1IL10R),rpar(:,176)))))*ymax(STAT3) - y(STAT3))/tau(STAT3); 
dydt(A2M_mrna) = (act(y(STAT3),rpar(:,110))*ymax(A2M_mrna) - y(A2M_mrna))/tau(A2M_mrna); 
dydt(CRP_mrna) = (act(y(STAT3),rpar(:,111))*ymax(CRP_mrna) - y(CRP_mrna))/tau(CRP_mrna); 
dydt(VEGF_mrna) = (act(y(STAT3),rpar(:,112))*ymax(VEGF_mrna) - y(VEGF_mrna))/tau(VEGF_mrna); 
dydt(SOCS3_mrna) = (OR(act(y(CREB),rpar(:,94)),act(y(STAT3),rpar(:,115)))*ymax(SOCS3_mrna) - y(SOCS3_mrna))/tau(SOCS3_mrna); 
dydt(SOCS3) = (AND(rpar(:,116),act(y(SOCS3_mrna),rpar(:,116)),inhib(y(STAT6),rpar(:,116)))*ymax(SOCS3) - y(SOCS3))/tau(SOCS3); 
dydt(BCL3) = (act(y(STAT3),rpar(:,117))*ymax(BCL3) - y(BCL3))/tau(BCL3); 
dydt(PI3K) = (OR(act(y(TLR4),rpar(:,11)),OR(act(y(GRB2),rpar(:,119)),act(y(IL10R),rpar(:,177))))*ymax(PI3K) - y(PI3K))/tau(PI3K); 
dydt(AKT) = (act(y(PI3K),rpar(:,120))*ymax(AKT) - y(AKT))/tau(AKT); 
dydt(MCL1) = (act(y(AKT),rpar(:,122))*ymax(MCL1) - y(MCL1))/tau(MCL1); 
dydt(CD14) = (act(y(LPS),rpar(:,9))*ymax(CD14) - y(CD14))/tau(CD14); 
dydt(TLR4) = (act(y(CD14),rpar(:,10))*ymax(TLR4) - y(TLR4))/tau(TLR4); 
dydt(TRIF) = (act(y(TLR4),rpar(:,12))*ymax(TRIF) - y(TRIF))/tau(TRIF); 
dydt(IRF3) = (act(y(TRIF),rpar(:,13))*ymax(IRF3) - y(IRF3))/tau(IRF3); 
dydt(CCL5_mrna) = (act(y(IRF3),rpar(:,20))*ymax(CCL5_mrna) - y(CCL5_mrna))/tau(CCL5_mrna); 
dydt(IFNbR) = (act(y(IFNb),rpar(:,17))*ymax(IFNbR) - y(IFNbR))/tau(IFNbR); 
dydt(JAKIFNbR) = (AND(rpar(:,18),act(y(IFNbR),rpar(:,18)),inhib(y(SOCS1),rpar(:,18)))*ymax(JAKIFNbR) - y(JAKIFNbR))/tau(JAKIFNbR); 
dydt(MyD88) = (OR(act(y(IL1R),rpar(:,8)),act(y(TLR4),rpar(:,21)))*ymax(MyD88) - y(MyD88))/tau(MyD88); 
dydt(IRAK4) = (AND(rpar(:,22),act(y(MyD88),rpar(:,22)),inhib(y(SOCS1),rpar(:,22)))*ymax(IRAK4) - y(IRAK4))/tau(IRAK4); 
dydt(IRAK1) = (act(y(IRAK4),rpar(:,23))*ymax(IRAK1) - y(IRAK1))/tau(IRAK1); 
dydt(IFNgR) = (act(y(IFNg),rpar(:,123))*ymax(IFNgR) - y(IFNgR))/tau(IFNgR); 
dydt(GSK3) = (AND(rpar(:,121),inhib(y(AKT),rpar(:,121)),act(y(IFNgR),rpar(:,121)))*ymax(GSK3) - y(GSK3))/tau(GSK3); 
dydt(JAK12_IFNg) = (AND(rpar(:,124),act(y(IFNgR),rpar(:,124)),inhib(y(SOCS1),rpar(:,124)))*ymax(JAK12_IFNg) - y(JAK12_IFNg))/tau(JAK12_IFNg); 
dydt(SHP2) = (act(y(JAK2),rpar(:,107))*ymax(SHP2) - y(SHP2))/tau(SHP2); 
dydt(STAT1) = (OR(act(y(JAKIFNbR),rpar(:,19)),OR(act(y(TRAF6),rpar(:,27)),OR(act(y(p38),rpar(:,73)),AND(rpar(:,126),act(y(JAK12_IFNg),rpar(:,126)),inhib(y(SHP2),rpar(:,126))))))*ymax(STAT1) - y(STAT1))/tau(STAT1); 
dydt(IRF1) = (act(y(IRF1_mrna),rpar(:,129))*ymax(IRF1) - y(IRF1))/tau(IRF1); 
dydt(IRF1_mrna) = (act(y(STAT1),rpar(:,127))*ymax(IRF1_mrna) - y(IRF1_mrna))/tau(IRF1_mrna); 
dydt(SOCS1) = (act(y(SOCS1_mrna),rpar(:,131))*ymax(SOCS1) - y(SOCS1))/tau(SOCS1); 
dydt(SOCS1_mrna) = (OR(act(y(CREB),rpar(:,95)),OR(act(y(STAT3),rpar(:,114)),OR(act(y(IRF1),rpar(:,130)),act(y(STAT6),rpar(:,156)))))*ymax(SOCS1_mrna) - y(SOCS1_mrna))/tau(SOCS1_mrna); 
dydt(Myc_mrna) = (act(y(STAT1),rpar(:,138))*ymax(Myc_mrna) - y(Myc_mrna))/tau(Myc_mrna); 
dydt(SMAD7_mrna) = (act(y(STAT1),rpar(:,137))*ymax(SMAD7_mrna) - y(SMAD7_mrna))/tau(SMAD7_mrna); 
dydt(ICAM1_mrna) = (act(y(STAT1),rpar(:,136))*ymax(ICAM1_mrna) - y(ICAM1_mrna))/tau(ICAM1_mrna); 
dydt(IL12Rb1) = (act(y(IL12),rpar(:,140))*ymax(IL12Rb1) - y(IL12Rb1))/tau(IL12Rb1); 
dydt(STAT4) = (AND(rpar(:,141),inhib(y(SOCS3),rpar(:,141)),act(y(IL12Rb1),rpar(:,141)))*ymax(STAT4) - y(STAT4))/tau(STAT4); 
dydt(IFNg_mrna) = (act(y(STAT4),rpar(:,142))*ymax(IFNg_mrna) - y(IFNg_mrna))/tau(IFNg_mrna); 
dydt(IL4R) = (OR(act(y(IL4),rpar(:,144)),AND(rpar(:,155),act(y(IL4),rpar(:,155)),act(y(IL4Ra_mrna),rpar(:,155))))*ymax(IL4R) - y(IL4R))/tau(IL4R); 
dydt(JAK13_IL4) = (AND(rpar(:,146),inhib(y(SOCS1),rpar(:,146)),act(y(IL4R),rpar(:,146)))*ymax(JAK13_IL4) - y(JAK13_IL4))/tau(JAK13_IL4); 
dydt(STAT6) = (OR(AND(rpar(:,147),inhib(y(SHP2),rpar(:,147)),act(y(JAK13_IL4),rpar(:,147))),act(y(KLF4),rpar(:,171)))*ymax(STAT6) - y(STAT6))/tau(STAT6); 
dydt(CCL17_mrna) = (act(y(STAT6),rpar(:,148))*ymax(CCL17_mrna) - y(CCL17_mrna))/tau(CCL17_mrna); 
dydt(CCL17) = (act(y(CCL17_mrna),rpar(:,149))*ymax(CCL17) - y(CCL17))/tau(CCL17); 
dydt(PPARg_mrna) = (OR(act(y(STAT6),rpar(:,150)),act(y(KLF4),rpar(:,173)))*ymax(PPARg_mrna) - y(PPARg_mrna))/tau(PPARg_mrna); 
dydt(PPARg) = (act(y(PPARg_mrna),rpar(:,151))*ymax(PPARg) - y(PPARg))/tau(PPARg); 
dydt(CD36_mrna) = (act(y(PPARg),rpar(:,152))*ymax(CD36_mrna) - y(CD36_mrna))/tau(CD36_mrna); 
dydt(CD36) = (act(y(CD36_mrna),rpar(:,153))*ymax(CD36) - y(CD36))/tau(CD36); 
dydt(IL4Ra_mrna) = (OR(act(y(STAT3),rpar(:,113)),act(y(STAT6),rpar(:,154)))*ymax(IL4Ra_mrna) - y(IL4Ra_mrna))/tau(IL4Ra_mrna); 
dydt(Arg1_mrna) = (act(y(STAT6),rpar(:,157))*ymax(Arg1_mrna) - y(Arg1_mrna))/tau(Arg1_mrna); 
dydt(Arg1) = (AND(rpar(:,158),inhib(y(iNOS),rpar(:,158)),act(y(Arg1_mrna),rpar(:,158)))*ymax(Arg1) - y(Arg1))/tau(Arg1); 
dydt(CD23_mrna) = (act(y(STAT6),rpar(:,159))*ymax(CD23_mrna) - y(CD23_mrna))/tau(CD23_mrna); 
dydt(CD23) = (act(y(CD23_mrna),rpar(:,160))*ymax(CD23) - y(CD23))/tau(CD23); 
dydt(AMAC1_mrna) = (act(y(STAT6),rpar(:,161))*ymax(AMAC1_mrna) - y(AMAC1_mrna))/tau(AMAC1_mrna); 
dydt(AMAC1) = (act(y(AMAC1_mrna),rpar(:,162))*ymax(AMAC1) - y(AMAC1))/tau(AMAC1); 
dydt(KLF4_mrna) = (act(y(STAT6),rpar(:,169))*ymax(KLF4_mrna) - y(KLF4_mrna))/tau(KLF4_mrna); 
dydt(KLF4) = (act(y(KLF4_mrna),rpar(:,170))*ymax(KLF4) - y(KLF4))/tau(KLF4); 
dydt(Fizz1_mrna) = (act(y(STAT6),rpar(:,165))*ymax(Fizz1_mrna) - y(Fizz1_mrna))/tau(Fizz1_mrna); 
dydt(Fizz1) = (act(y(Fizz1_mrna),rpar(:,166))*ymax(Fizz1) - y(Fizz1))/tau(Fizz1); 
dydt(Ym1_mrna) = (act(y(STAT6),rpar(:,163))*ymax(Ym1_mrna) - y(Ym1_mrna))/tau(Ym1_mrna); 
dydt(Ym1) = (act(y(Ym1_mrna),rpar(:,164))*ymax(Ym1) - y(Ym1))/tau(Ym1); 
dydt(IL10R) = (act(y(IL10),rpar(:,174))*ymax(IL10R) - y(IL10R))/tau(IL10R); 
dydt(JAK1IL10R) = (act(y(IL10R),rpar(:,175))*ymax(JAK1IL10R) - y(JAK1IL10R))/tau(JAK1IL10R); 
dydt(IL6R) = (act(y(IL6),rpar(:,104))*ymax(IL6R) - y(IL6R))/tau(IL6R); 
dydt(TAB1) = (AND(rpar(:,25),act(y(TRAF6),rpar(:,25)),inhib(y(SOCS3),rpar(:,25)))*ymax(TAB1) - y(TAB1))/tau(TAB1); 

% utility functions 
function fact = act(x,rpar) 
% hill activation function with parameters w (weight), n (Hill coeff), EC50 
    w = rpar(1); 
    n = rpar(2); 
    EC50 = rpar(3); 
    beta = (EC50.^n - 1)./(2*EC50.^n - 1); 
    K = (beta - 1).^(1./n); 
    fact = w.*(beta.*x.^n)./(K.^n + x.^n); 
    if fact>w,                 % cap fact(x)<= 1 
        fact = w; 
    end
 
function finhib = inhib(x,rpar) 
% inverse hill function with parameters w (weight), n (Hill coeff), EC50 
    finhib = rpar(1) - act(x,rpar);
 
function z = OR(x,y) 
% OR logic gate 
    z = x + y - x*y;
 
function z = AND(rpar,varargin) 
% AND logic gate, multiplying all of the reactants together 
    w = rpar(1); 
    if w == 0, 
        z = 0; 
    else 
        v = cell2mat(varargin); 
        z = prod(v)/w^(nargin-2);  
    end 
